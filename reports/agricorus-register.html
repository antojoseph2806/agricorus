<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:6,&quot;passes&quot;:5,&quot;pending&quot;:0,&quot;failures&quot;:1,&quot;start&quot;:&quot;2025-11-08T07:06:54.631Z&quot;,&quot;end&quot;:&quot;2025-11-08T07:08:29.486Z&quot;,&quot;duration&quot;:94855,&quot;testsRegistered&quot;:6,&quot;passPercent&quot;:83.33333333333334,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;4b71411d-6b16-49f3-97ba-fdf3516e27c9&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\antom\\OneDrive\\Documents\\agricorus\\tests\\register.test.js&quot;,&quot;file&quot;:&quot;\\tests\\register.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;00ec6602-61c9-4170-a97b-d4257c15a0a2&quot;,&quot;title&quot;:&quot;AgriCorus Register Page E2E Tests (Edge)&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\antom\\OneDrive\\Documents\\agricorus\\tests\\register.test.js&quot;,&quot;file&quot;:&quot;\\tests\\register.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;AgriCorus Register Page E2E Tests (Edge)\&quot;&quot;,&quot;fullTitle&quot;:&quot;AgriCorus Register Page E2E Tests (Edge) \&quot;before all\&quot; hook in \&quot;AgriCorus Register Page E2E Tests (Edge)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2659,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const options = new edge.Options();\noptions.addArguments(\&quot;--no-sandbox\&quot;);\noptions.addArguments(\&quot;--disable-dev-shm-usage\&quot;);\n// options.addArguments(\&quot;--headless=new\&quot;); // â† enable in CI if needed\ndriver = await new Builder()\n  .forBrowser(\&quot;MicrosoftEdge\&quot;)\n  .setEdgeOptions(options)\n  .build();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9345bd8a-579d-44db-aa01-8a290dc90aff&quot;,&quot;parentUUID&quot;:&quot;00ec6602-61c9-4170-a97b-d4257c15a0a2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;AgriCorus Register Page E2E Tests (Edge)\&quot;&quot;,&quot;fullTitle&quot;:&quot;AgriCorus Register Page E2E Tests (Edge) \&quot;after all\&quot; hook in \&quot;AgriCorus Register Page E2E Tests (Edge)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:601,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (driver) await driver.quit();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25b410c3-0da4-4343-80e7-ad980a358678&quot;,&quot;parentUUID&quot;:&quot;00ec6602-61c9-4170-a97b-d4257c15a0a2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;AgriCorus Register Page E2E Tests (Edge)\&quot;&quot;,&quot;fullTitle&quot;:&quot;AgriCorus Register Page E2E Tests (Edge) \&quot;after each\&quot; hook in \&quot;AgriCorus Register Page E2E Tests (Edge)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:226,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (this.currentTest.state === \&quot;failed\&quot; &amp;&amp; driver) {\n  try {\n    const png = await driver.takeScreenshot();\n    const dir = path.join(__dirname, \&quot;..\&quot;, \&quot;reports\&quot;, \&quot;screens\&quot;);\n    fs.mkdirSync(dir, { recursive: true });\n    const fileSafe = this.currentTest.fullTitle().replace(/[^\\w]+/g, \&quot;_\&quot;);\n    const filePath = path.join(dir, `${fileSafe}.png`);\n    fs.writeFileSync(filePath, png, \&quot;base64\&quot;);\n    addContext(this, `../screens/${path.basename(filePath)}`);\n  } catch (_) {\n    // ignore screenshot failures\n  }\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c38e116-d59c-4ec2-90bb-a4324be58b67&quot;,&quot;parentUUID&quot;:&quot;00ec6602-61c9-4170-a97b-d4257c15a0a2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;1. Shows global error + inline errors on empty submit&quot;,&quot;fullTitle&quot;:&quot;AgriCorus Register Page E2E Tests (Edge) 1. Shows global error + inline errors on empty submit&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19251,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await goToRegister();\nawait clickSubmit();\nconst alertText = await getGlobalAlertText();\n// match broadly to avoid brittle copy\nexpect(alertText.toLowerCase()).to.satisfy(t =&gt;\n  t.includes(\&quot;error\&quot;) || t.includes(\&quot;please correct\&quot;) || t.includes(\&quot;required\&quot;)\n);\nconst nameErr = await getFieldError(\&quot;name\&quot;);\nexpect(nameErr.toLowerCase()).to.include(\&quot;required\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75e572b4-400c-439c-b030-49ed682f3910&quot;,&quot;parentUUID&quot;:&quot;00ec6602-61c9-4170-a97b-d4257c15a0a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;2. Shows strong password error on blur&quot;,&quot;fullTitle&quot;:&quot;AgriCorus Register Page E2E Tests (Edge) 2. Shows strong password error on blur&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5585,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await goToRegister();\nawait fillField(\&quot;password\&quot;, \&quot;weakpass\&quot;);\nconst pwdErr = await getFieldError(\&quot;password\&quot;);\nexpect(pwdErr.toLowerCase()).to.satisfy(t =&gt;\n  t.includes(\&quot;8\&quot;) || t.includes(\&quot;uppercase\&quot;) || t.includes(\&quot;lowercase\&quot;) || t.includes(\&quot;number\&quot;) || t.includes(\&quot;special\&quot;)\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1a64df0-fe5a-4e43-9882-f2f8ec7050a1&quot;,&quot;parentUUID&quot;:&quot;00ec6602-61c9-4170-a97b-d4257c15a0a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;3. Toggles password visibility via eye icon&quot;,&quot;fullTitle&quot;:&quot;AgriCorus Register Page E2E Tests (Edge) 3. Toggles password visibility via eye icon&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3843,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await goToRegister();\nconst pwd = await driver.findElement(By.name(\&quot;password\&quot;));\n// try known data-testid first\nlet toggle;\nconst toggles = await driver.findElements(By.css(\&quot;[data-testid=&#x27;toggle-password&#x27;]\&quot;));\nif (toggles.length) {\n  toggle = toggles[0];\n} else {\n  // fallback: following sibling button\n  toggle = await driver.findElement(By.xpath(\&quot;//input[@name=&#x27;password&#x27;]/following-sibling::button[1]\&quot;));\n}\nexpect(await pwd.getAttribute(\&quot;type\&quot;)).to.equal(\&quot;password\&quot;);\nawait toggle.click();\nexpect(await pwd.getAttribute(\&quot;type\&quot;)).to.equal(\&quot;text\&quot;);\nawait toggle.click();\nexpect(await pwd.getAttribute(\&quot;type\&quot;)).to.equal(\&quot;password\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f843986c-c7db-43d0-ad79-6386578c3610&quot;,&quot;parentUUID&quot;:&quot;00ec6602-61c9-4170-a97b-d4257c15a0a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;4. Shows mismatch error when passwords differ&quot;,&quot;fullTitle&quot;:&quot;AgriCorus Register Page E2E Tests (Edge) 4. Shows mismatch error when passwords differ&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3630,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await goToRegister();\nawait fillField(\&quot;password\&quot;, \&quot;StrongPass1!\&quot;);\nawait fillField(\&quot;confirmPassword\&quot;, \&quot;DifferentPass2!\&quot;);\nconst err = await getFieldError(\&quot;confirmPassword\&quot;);\nexpect(err.toLowerCase()).to.satisfy(t =&gt; t.includes(\&quot;match\&quot;));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3028e6f-4a0d-4573-842e-9a5ae88d102b&quot;,&quot;parentUUID&quot;:&quot;00ec6602-61c9-4170-a97b-d4257c15a0a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;5. Submits successfully and opens OTP verification modal&quot;,&quot;fullTitle&quot;:&quot;AgriCorus Register Page E2E Tests (Edge) 5. Submits successfully and opens OTP verification modal&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14364,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await goToRegister();\nawait fillValidForm(true);\nawait clickSubmit();\n// 1) success alert mentioning verification/otp\nconst alert = await getGlobalAlertText();\nexpect(alert.toLowerCase()).to.satisfy(t =&gt;\n  t.includes(\&quot;registration\&quot;) || t.includes(\&quot;verify\&quot;) || t.includes(\&quot;otp\&quot;)\n);\n// 2) OTP modal title (prefer data-testid; fallback to text)\nconst otpTitle = await waitForAnyLocated([\n  By.css(\&quot;[data-testid=&#x27;otp-modal-title&#x27;]\&quot;),\n  By.xpath(\&quot;//h3[normalize-space()=&#x27;Verify your email&#x27;]\&quot;),\n  By.xpath(\&quot;//h3[contains(.,&#x27;Verify&#x27;)]\&quot;),\n], TIMEOUT_ASYNC);\nexpect(await otpTitle.isDisplayed()).to.equal(true);\n// 3) Email displayed in modal copy\nconst emailLine = await waitForAnyLocated([\n  By.xpath(\&quot;//p[contains(.,&#x27;OTP&#x27;) and contains(.,&#x27;sent&#x27;)]\&quot;),\n  By.css(\&quot;[data-testid=&#x27;otp-instructions&#x27;]\&quot;),\n], TIMEOUT_ASYNC);\nconst text = (await emailLine.getText()).toLowerCase();\nexpect(text).to.satisfy(t =&gt; t.includes(\&quot;@agricorus.com\&quot;) || t.includes(\&quot;email\&quot;));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c241fdf5-b354-4881-acfb-68016237cfc9&quot;,&quot;parentUUID&quot;:&quot;00ec6602-61c9-4170-a97b-d4257c15a0a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;6. OTP modal resend cooldown works (disables then re-enables)&quot;,&quot;fullTitle&quot;:&quot;AgriCorus Register Page E2E Tests (Edge) 6. OTP modal resend cooldown works (disables then re-enables)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44644,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;../screens/AgriCorus_Register_Page_E2E_Tests_Edge_6_OTP_modal_resend_cooldown_works_disables_then_re_enables_.png\&quot;&quot;,&quot;code&quot;:&quot;await goToRegister();\nawait fillValidForm(true);\nawait clickSubmit();\n// Ensure OTP modal is visible\nawait waitForAnyLocated([\n  By.css(\&quot;[data-testid=&#x27;otp-modal-title&#x27;]\&quot;),\n  By.xpath(\&quot;//h3[contains(.,&#x27;Verify&#x27;)]\&quot;),\n], TIMEOUT_ASYNC);\n// Resend button\nconst resendBtn = await waitForAnyLocated([\n  By.css(\&quot;[data-testid=&#x27;otp-resend&#x27;]\&quot;),\n  By.xpath(\&quot;//button[contains(.,&#x27;Resend&#x27;)]\&quot;),\n], TIMEOUT_GENERAL);\n// Initially disabled\nexpect(await resendBtn.isEnabled()).to.equal(false);\n// Wait until enabled (cooldown complete)\nawait driver.wait(until.elementIsEnabled(resendBtn), OTP_RESEND_MAX_MS);\nexpect(await resendBtn.isEnabled()).to.equal(true);\n// Click to restart cooldown, then confirm disabled again\nawait resendBtn.click();\nawait driver.sleep(1500);\nexpect(await resendBtn.isEnabled()).to.equal(false);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected true to equal false&quot;,&quot;estack&quot;:&quot;AssertionError: expected true to equal false\n    at Context.&lt;anonymous&gt; (tests\\register.test.js:288:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)&quot;,&quot;diff&quot;:&quot;- true\n+ false\n&quot;},&quot;uuid&quot;:&quot;ecbf29c6-54f5-448b-b066-a61fd0451c99&quot;,&quot;parentUUID&quot;:&quot;00ec6602-61c9-4170-a97b-d4257c15a0a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;75e572b4-400c-439c-b030-49ed682f3910&quot;,&quot;f1a64df0-fe5a-4e43-9882-f2f8ec7050a1&quot;,&quot;f843986c-c7db-43d0-ad79-6386578c3610&quot;,&quot;c3028e6f-4a0d-4573-842e-9a5ae88d102b&quot;,&quot;c241fdf5-b354-4881-acfb-68016237cfc9&quot;],&quot;failures&quot;:[&quot;ecbf29c6-54f5-448b-b066-a61fd0451c99&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:91317,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:120000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:90000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;11.7.5&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:true,&quot;reportFilename&quot;:&quot;agricorus-register&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.4&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;reports&quot;,&quot;reportFilename&quot;:&quot;agricorus-register&quot;,&quot;overwrite&quot;:&quot;true&quot;,&quot;quiet&quot;:&quot;true&quot;},&quot;version&quot;:&quot;6.3.2&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;agricorus-register&quot;,&quot;reportDir&quot;:&quot;reports&quot;,&quot;reportTitle&quot;:&quot;agricorus&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;reports\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\antom\\OneDrive\\Documents\\agricorus\\reports\\agricorus-register.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\antom\\OneDrive\\Documents\\agricorus\\reports\\agricorus-register.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>